# API ТН ВЭД ТКС - классификатор дополнительной таможенной информации

Программный интерфейс предназначен для доступа к сведениям, содержащимся в Классификаторе дополнительной таможенной информации (приложение N 24 к Приказу ФТС России от 21 августа 2008 г. N 1003).

## Запросы

Запрос на получение текущей версии:

    https://api1.tks.ru/tnaddinf.json/json/<ключ клиента>/ver.json

Запрос на получение списка кодов:

    https://api1.tks.ru/tnaddinf.json/json/<ключ клиента>/

Запрос на получение информации по коду:

    https://api1.tks.ru/tnaddinf.json/json/<ключ клиента>/<код ТН ВЭД>.json

Запрос на получение информации по всем кодам в виде ZIP-архива:

    https://api1.tks.ru/tnaddinf.json/json/<ключ клиента>/archive.zip

где

    <ключ клиента> - (.+)  
    <код ТН ВЭД> - (\d{10})

## Сценарии использования

В случае, если информация по конкретному коду либо небольшому набору кодов ТН ВЭД требуется периодически, клиент обращается к API с запросами вида:

    http://api1.tks.ru/tnaddinf.json/json/<ключ клиента>/<код ТН ВЭД>.json

Полученная информация будет актуальна на момент получения запроса сервером.

В случае, если информация загружается во внутреннюю систему для дальнейшего использования, клиент с некоторой периодичностью (например, один раз в час) загружает файл с номером версии. Если полученный номер версии больше, чем сохранённый ранее, клиент скачивает ZIP-архив, содержащий в себе информацию о всех кодах ТН ВЭД и о номере версии. Для этого используются запросы вида:

    https://api1.tks.ru/tnaddinf.json/json/<ключ клиента>/ver.json

    https://api1.tks.ru/tnaddinf.json/json/<ключ клиента>/archive.zip

## Описание структуры данных классификатора

Информация о коде ТН ВЭД содержит сведения об условиях дополнительного кодирования, дополнительных кодах и наименованиях соответствующих позиций. Например, запрос

    https://api1.tks.ru/tnaddinf.json/json/<ключ клиента>/0302550000.json

вернёт результат:

    [
        {
            "VERSION": 4,
            "CODE": "0302550000",
            "SIGN1": "1",
            "SIGN2": "1",
            "SIGN3": "0",
            "SIGN4": "0",
            "SHORTNAME": "неразделанная",
            "FULLNAME": "минтай (Theragra chalcogramma) неразделанная"
        },
        {
            "VERSION": 4,
            "CODE": "0302550000",
            "SIGN1": "1",
            "SIGN2": "2",
            "SIGN3": "0",
            "SIGN4": "0",
            "SHORTNAME": "потрошеная с головой",
            "FULLNAME": "минтай (Theragra chalcogramma) потрошеная с головой"
        },
        {
            "VERSION": 4,
            "CODE": "0302550000",
            "SIGN1": "1",
            "SIGN2": "3",
            "SIGN3": "0",
            "SIGN4": "0",
            "SHORTNAME": "обезглавленная потрошеная",
            "FULLNAME": "минтай (Theragra chalcogramma) обезглавленная потрошеная"
        },
        {
            "VERSION": 4,
            "CODE": "0302550000",
            "SIGN1": "1",
            "SIGN2": "4",
            "SIGN3": "0",
            "SIGN4": "0",
            "SHORTNAME": "обезглавленная",
            "FULLNAME": "минтай (Theragra chalcogramma) обезглавленная"
        },
        {
            "VERSION": 4,
            "CODE": "0302550000",
            "SIGN1": "1",
            "SIGN2": "5",
            "SIGN3": "0",
            "SIGN4": "0",
            "SHORTNAME": "тушка",
            "FULLNAME": "минтай (Theragra chalcogramma) тушка"
        },
        {
            "VERSION": 4,
            "CODE": "0302550000",
            "SIGN1": "1",
            "SIGN2": "9",
            "SIGN3": "0",
            "SIGN4": "0",
            "SHORTNAME": "прочая",
            "FULLNAME": "минтай (Theragra chalcogramma) прочая"
        }
    ]
